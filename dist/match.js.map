{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 5c868aff9fbb7d613de1","webpack:///./src/lib/util.js","webpack:///./src/match/config.js","webpack:///./src/match/match.js","webpack:///./src/match/parse.js","webpack:///./src/match/stack.js","webpack:///./src/index.js","webpack:///./src/lib/typeTrans.js","webpack:///./src/lib/type.js","webpack:///./src/lib/reg.js","webpack:///./src/lib/help.js","webpack:///./src/match/parse-data.js","webpack:///./src/match/filter.js","webpack:///./src/match/auto-complete.js","webpack:///./src/lib/polyfill.js","webpack:///./src/match/debug.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","keys","_typeTrans","forEach","key","_type","_reg","_help","_util","config","filterUndefined","filterNull","filterEmptyObject","filterDefaultArray","filterDefaultObject","autoComplete","ignoreTokenKey","debug","tmpConfig","extendConfig","debugArray","changeFilterDefaultObject","boo","obj","isObj","assign","console","error","extendTmpConfig","restoreConfig","_parse","_stack","_filter","_config","matchObject","data","exp","result","isStr","parse","_parseData2","default","has","filter","filterEmpty","matchArray","arr","length","getData","e","_config2","match","combineData","keyData","isArray","_autoComplete2","_debug2","parseConfig","configTmp","configCache","register","pushStack","value","update","updateStack","remove","removeStack","removeAll","cleanStack","type","par","token","split","undefined","typeTrans","getArrData","index","parseInt","shift","isNum","join","str","parseResult","objTokenReg","arrTokenReg","typeTokenReg","strTokenReg","empty","matchArrayKey","isFun","matchFun","indexOf","isIgnore","test","noMatch","re","exec","end","matchStr","addArr","spr","tok","trim","hasReg","matchType","matchParam","matchArrParam","stack","push","splice","_match","_match2","isNaN","Number","booleanFun","toLowerCase","BooleanFun","parseFloat","toString","typeCharge","stringReg","pop","num","objToArray","concat","isEmptyObj","JSON","stringify","regTest","hasValue","that","apply","_stack2","splStr","def","datas","item","splData","target","varArgs","TypeError","to","arguments","nextSource","nextKey","window","Match_Debug","matchObj"],"mappings":"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","file":"match.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"match\"] = factory();\n\telse\n\t\troot[\"match\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5c868aff9fbb7d613de1","export * from './typeTrans';\nexport * from './type';\nexport * from './reg';\nexport * from './help';\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/util.js","/**\n * @descrption 增加全局配置项\n */\nimport { isObj } from 'LIB/util';\n// 全局配置项\nconst config = {\n    filterUndefined: true, // 过滤undefined\n    filterNull: true, // 过滤null\n    filterEmptyObject: false, // 过滤空对象\n    filterDefaultArray: false, // 过滤匹配数组产生的Array 不过滤自定义的返回值 []\n    filterDefaultObject: false, // 过滤匹配对象产生的Object 不过滤自定的返回值 {}\n    autoComplete: false, // 自动补全\n    ignoreTokenKey: [], // 忽略解析的key\n    debug: false, // debug 模式\n};\n\nlet tmpConfig = null;\nexport const debugArray = [];\n\nexport let filterDefaultObject = false;\n\nexport const changeFilterDefaultObject = (boo) => {\n    filterDefaultObject = boo;\n};\n\nexport const extendConfig = (obj: Object) => {\n    if (!isObj(obj)) {\n        /* eslint-disable no-console */\n        console.error('error config type');\n        /* eslint-disable no-console */\n        return;\n    }\n\n    Object.assign(config, obj);\n};\n\nexport const extendTmpConfig = (obj: Object) => {\n    tmpConfig = Object.assign({}, config);\n    extendConfig(obj);\n};\n\nexport const restoreConfig = () => {\n    if (!tmpConfig) return;\n\n    extendConfig(tmpConfig);\n\n    tmpConfig = null;\n};\n\nexport default config;\n\n\n\n// WEBPACK FOOTER //\n// ./src/match/config.js","import { parse, getData } from 'MATCH/parse';\nimport parseToData from 'MATCH/parse-data';\nimport { isObj, isStr, isArray, has } from 'LIB/util';\nimport { pushStack, removeStack, cleanStack, updateStack } from 'MATCH/stack';\nimport { filter, filterEmpty } from 'MATCH/filter';\nimport autoComplete from 'MATCH/auto-complete';\nimport config, {\n    extendConfig,\n    extendTmpConfig,\n    restoreConfig,\n    changeFilterDefaultObject,\n} from 'MATCH/config';\nimport 'LIB/polyfill';\nimport debug from 'MATCH/debug';\n\n/**\n * 对象映射\n */\nexport const matchObject = function matchObject(\n    data: any,\n    obj: Object | String,\n) {\n    let exp;\n    let result = {};\n\n    if (isStr(obj)) {\n        exp = parse(obj);\n        result = parseToData(exp, data);\n    } else {\n        for (const i in obj) {\n            if (!has(obj, i)) continue;\n            exp = parse(obj[i], i);\n            result[i] = parseToData(exp, data, result);\n            filter(i, result);\n            changeFilterDefaultObject(false);\n        }\n    }\n\n    return filterEmpty(result);\n};\n\n/**\n * 数组映射\n */\nexport const matchArray = function matchArray(data: any, arr: Array) {\n    const result = [];\n\n    try {\n        if (arr.length === 1) {\n            // 直接映射 data\n            for (let i = 0; i < data.length; i++) {\n                result[i] = matchObject(data[i], arr[0]);\n            }\n        }\n\n        if (arr.length === 2) {\n            // 映射data的对象\n            data = getData(data, arr[0]);\n            // data = data[arr[0]];\n            for (let i = 0; i < data.length; i++) {\n                result[i] = matchObject(data[i], arr[1]);\n            }\n        }\n    } catch (e) {\n        if (config.filterDefaultArray) return undefined;\n    }\n\n    return result;\n};\n\nconst match = {\n    parse: (combineData: Object | Array, keyData: Object | Array) => {\n        let result;\n\n        if (isObj(keyData)) {\n            result = matchObject(combineData, keyData);\n        }\n\n        if (isArray(keyData)) {\n            result = matchArray(combineData, keyData);\n        }\n\n        autoComplete(result, combineData);\n        debug(result, combineData, keyData);\n\n        restoreConfig();\n\n        return result;\n    },\n    parseConfig(\n        combineData: Object | Array,\n        keyData: Object | Array,\n        configTmp: Object,\n    ) {\n        // 代表此次match使用传入的config\n        const configCache = Object.assign({}, config);\n\n        extendConfig(configTmp);\n        const data = this.parse(combineData, keyData);\n        extendConfig(configCache);\n\n        return data;\n    },\n    tmpConfig(configTmp: Object) {\n        extendTmpConfig(configTmp);\n\n        return this;\n    },\n    register: (obj: Object | Array, name: string) => {\n        pushStack({\n            value: obj,\n            name,\n        });\n    },\n    update: (obj: Object | Array, name: string) => {\n        updateStack(obj, name);\n        return this;\n    },\n    // 移除register的内容\n    remove: (name: string) => {\n        removeStack(name);\n        return this;\n    },\n    removeAll: () => {\n        cleanStack();\n\n        return this;\n    },\n    config: (obj: Object) => {\n        extendConfig(obj);\n\n        return this;\n    },\n};\n\nexport default match;\n\n\n\n// WEBPACK FOOTER //\n// ./src/match/match.js","/**\n * @description 字符串解析内容\n */\nimport {\n    isFun,\n    isNum,\n    isObj,\n    isStr,\n    isArray,\n    empty,\n    hasReg,\n    addArr,\n    typeTrans,\n} from 'LIB/util';\n\nimport config from 'MATCH/config';\n\nexport const getData = (\n    data: Object,\n    exp: string, // 对应的对象字面量字符串 xx.xxx\n    type: string, // 对应的类型\n) => {\n    let par = data;\n    const token = exp.split('.');\n    // 递归获取\n    for (let i = 0; i < token.length; i++) {\n        par = par[token[i]];\n    }\n\n    return type && par !== undefined ? typeTrans(par, type) : par;\n};\n\nexport const getArrData = (\n    data: Object,\n    exp: string, // 对应的数组序号字符串字面量\n    type: string, // 对应的类型\n) => {\n    const token = exp.split('.');\n    const index = parseInt(token.shift(), 10);\n    if (!isNum(index) || data[index] === undefined) {\n        /* eslint-disable no-console */\n        console.error('error: the Array index is not exist!');\n        /* eslint-disable no-console */\n        return undefined;\n    }\n\n    return getData(data[index], token.join('.'), type);\n};\n\nconst isIgnore = (key: string) => config.ignoreTokenKey.indexOf(key) !== -1;\n\nexport const parse = function parse(str: any, key: any) {\n    let token;\n    const parseResult = {};\n    const objTokenReg = /\\$\\$\\{\\{(.*)\\}\\}/;\n    const arrTokenReg = /\\$\\{(.*)\\}/;\n    const typeTokenReg = /(!?)\\((boolean|Boolean|int|Int|string|float)\\)\\$/;\n    // const strTokenReg = /(?:(.*?)(\\|\\|))|(.+)/ig;\n    // 隐藏token\n    const strTokenReg = /(?:(.*?)(\\|\\|(?:\\||)|(?:&&)))|(.+)/gi;\n\n    if (empty(key)) {\n        parseResult.matchArrayKey = str;\n        return parseResult;\n    }\n\n    if (isObj(str)) {\n        // 递归映射\n        parseResult.matchObject = str;\n        return parseResult;\n    }\n\n    if (isArray(str)) {\n        // 数组递归映射\n        parseResult.matchArray = str;\n        return parseResult;\n    }\n\n    if (isFun(str)) {\n        // 执行函数\n        parseResult.matchFun = str;\n        return parseResult;\n    }\n\n    if (\n        !isStr(str) ||\n        isIgnore(key) ||\n        (!objTokenReg.test(str) && !arrTokenReg.test(str))\n    ) {\n        // 不是字符串 直接返回\n        parseResult.noMatch = str;\n        return parseResult;\n    }\n\n    let re = strTokenReg.exec(str);\n    const end = (result) => {\n        parseResult.matchStr = addArr(parseResult.matchStr, result);\n        return strTokenReg.exec(str);\n    };\n    while (re) {\n        const spr = re[2];\n        const tok = re[1] === undefined ? re[0] : re[1];\n        const result = {};\n\n        if (spr) {\n            result.spr = spr.trim();\n        }\n\n        token = tok.trim().match(typeTokenReg);\n\n        if (hasReg(token)) {\n            // 类型\n            result.matchType = token[1] + token[2];\n        }\n\n        token = tok.trim().match(objTokenReg);\n\n        if (token && token.length && token.length >= 1) {\n            // 映射字段\n            result.matchParam = token[1];\n            re = end(result);\n            continue;\n        }\n\n        token = tok.trim().match(arrTokenReg);\n\n        if (token && token.length && token.length >= 1) {\n            // 映射数组\n            result.matchArrParam = token[1];\n            re = end(result);\n            continue;\n        }\n\n        if (!token) {\n            // 如果上面三个都没有匹配上 自认为是默认值\n            result.default = tok.trim();\n            re = end(result);\n            continue;\n        }\n    }\n\n    return parseResult;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/match/parse.js","/**\n * @description 存储公共内容\n */\nlet stack = [];\n\nexport default stack;\n\nexport const pushStack = (key: Object) => {\n    let has = false;\n    for (let i = 0; i < stack.length; i++) {\n        if (stack[i].name === key.name) {\n            stack[i] = key;\n            has = true;\n        }\n    }\n\n    if (!has) stack.push(key);\n};\n\nexport const updateStack = (\n    key: Object | Array,\n    name: string,\n) => {\n    try {\n        for (let i = 0; i < stack.length; i++) {\n            if (stack[i].name === name) {\n                stack[i].value = key;\n            }\n        }\n    } catch (e) {\n        /* eslint-disable no-console */\n        console.error(e);\n        /* eslint-disable no-console */\n    }\n};\n\nexport const removeStack = (name: string) => {\n    for (let i = 0; i < stack.length;) {\n        if (stack[i].name === name) {\n            stack.splice(i, 1);\n        } else {\n            i++;\n        }\n    }\n};\n\nexport const cleanStack = () => {\n    stack = [];\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/match/stack.js","import match from 'MATCH/match';\n\nmodule.exports = match;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const isNaN = Number.isNaN;\n\nexport const typeTrans = (data: any, type: string) => {\n    // 字符串对应的 false 转化为false true 转化为true\n    const booleanFun = () => data.toLowerCase() !== 'false';\n    const BooleanFun = () => !!data;\n    if (type === '!boolean') {\n        return !booleanFun();\n    }\n    if (type === 'boolean') {\n        return booleanFun();\n    }\n\n    if (type === '!Boolean') {\n        return !BooleanFun();\n    }\n\n    if (type === 'Boolean') {\n        return BooleanFun();\n    }\n\n    if (type === 'int') {\n        return parseInt(data, 10);\n    }\n\n    if (type === 'Int') {\n        return isNaN(parseInt(data, 10)) ? 0 : parseInt(data, 10);\n    }\n\n    if (type === 'float') {\n        return parseFloat(data, 10);\n    }\n\n    if (type === 'string') {\n        return data.toString();\n    }\n\n    return true;\n};\n\n/**\n * @description 类型转换\n * */\nexport const typeCharge = (str: string) => {\n    try {\n        str = str.trim();\n        const stringReg = /^(['\"])(.*)\\1$/;\n        const arrayReg = /^\\[\\]$/;\n        const objectReg = /^\\{\\}$/;\n\n        // 若果是以''包住 或者\"\"包住\n        if (stringReg.test(str)) {\n            // 返回字符串\n            str = str.match(stringReg).pop();\n            return str;\n        }\n\n        if (arrayReg.test(str)) {\n            return [];\n        }\n\n        if (objectReg.test(str)) {\n            return {};\n        }\n\n        // 说明不是字符串类型的值\n        const num = parseFloat(str);\n        /* eslint-disable no-nested-ternary */\n        const boo = str === 'false' ? false : str === 'true' ? true : '';\n        /* eslint-disable no-nested-ternary */\n        str = num || boo !== '' ? num || boo : str;\n        return str;\n    } catch (e) {\n        return str;\n    }\n};\n\nexport const objToArray = (\n    data: Array, // 转换的对象数组\n    key: string, // 转化你的值\n) => {\n    try {\n        let arr = [];\n        for (let i = 0; i < data.length; i++) {\n            // for (let i of data) {\n            arr = arr.concat(data[i][key]);\n        }\n\n        return arr;\n    } catch (e) {\n        return [];\n    }\n};\n\nexport const addArr = (arr, i) => {\n    if (arr && arr.length) {\n        arr.push(i);\n        return arr;\n    }\n    return [i];\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/typeTrans.js","export const isObj = obj => Object.prototype.toString.call(obj) === '[object Object]';\n\nexport const isFun = obj => Object.prototype.toString.call(obj) === '[object Function]';\n\nexport const isArray = obj => Object.prototype.toString.call(obj) === '[object Array]';\n\nexport const isStr = str => Object.prototype.toString.call(str) === '[object String]';\n\nexport const isNum = num => Object.prototype.toString.call(num) === '[object Number]';\n\nexport const isEmptyObj = obj => JSON.stringify(obj) === '{}';\n\nexport const empty = obj => (obj === undefined);\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/type.js","/**\n * 正则match可以匹配上第一个缓存\n */\nexport const hasReg = (token: any) => (token && token.length && token.length >= 1);\n\nexport const regTest = () => {\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/reg.js","export const has = (obj, key) => ({}.hasOwnProperty.call(obj, key));\n\nexport const hasValue = () => {\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/help.js","/**\n * @description 把exp解析的内容反装回真是值\n */\nimport {\n    getData,\n    getArrData,\n} from 'MATCH/parse';\nimport {\n    isEmptyObj,\n    typeCharge,\n    objToArray,\n} from 'LIB/util';\nimport {\n    matchObject,\n    matchArray,\n} from 'MATCH/match';\nimport stack from 'MATCH/stack';\nimport config, { changeFilterDefaultObject } from 'MATCH/config';\n\nconst splStr = (\n    str: Array,\n    data: Object, // 映射的params数组\n) => {\n    const j = 0;\n    // const item = str[i];\n    const splData = (item) => {\n        let result;\n\n        if (item.matchParam) {\n            result = getData(data, item.matchParam, item.matchType);\n            return result;\n        }\n\n        if (item.matchArrParam) {\n            result = getArrData(data, item.matchArrParam, item.matchType);\n            return result;\n        }\n\n        if (item.default) {\n            result = typeCharge(item.default);\n            return result;\n        }\n\n        return result;\n    };\n    const datas = (i) => {\n        const item = str[i];\n        let result = splData(item);\n\n        if (item.spr) {\n            i++;\n            switch (item.spr) {\n            case '||':\n                result =\n                        (result === undefined) ? datas(i) : result;\n                break;\n            case '|||':\n                result = result || datas(i);\n                break;\n            default:\n                break;\n            }\n        }\n\n        return result;\n    };\n\n    const results = datas(j);\n\n    return results;\n};\n\nexport default function (\n    exp: Object, // parse 返回值\n    data: Object, // 映射的params数组\n    that: Object, // 返回对象指针\n) {\n    let result;\n\n    try {\n        if (exp.matchArrayKey) {\n            result = data[exp.matchArrayKey];\n            return result;\n        }\n\n        if (exp.matchObject) {\n            result = matchObject(data, exp.matchObject);\n            return result;\n        }\n\n        if (exp.matchArray) {\n            result = matchArray(data, exp.matchArray);\n            return result;\n        }\n\n        if (exp.noMatch !== undefined) {\n            result = exp.noMatch;\n            return result;\n        }\n\n        if (exp.matchFun) {\n            result = exp.matchFun.apply(that, [data].concat(objToArray(stack, 'value')));\n            return result;\n        }\n\n        if (exp.matchStr) {\n            result = splStr(exp.matchStr, data);\n            return result;\n        }\n\n        if (exp.matchParam) {\n            result = getData(data, exp.matchParam, exp.matchType);\n            result =\n                (result === undefined) ? typeCharge(exp.default) : result;\n\n            // 记录此时的空对象是默认产生的 防止被filter过滤\n            if (isEmptyObj(result)) changeFilterDefaultObject(true);\n            return result;\n        }\n\n        if (exp.matchArrParam) {\n            result = getArrData(data, exp.matchArrParam, exp.matchType);\n            result =\n                (result === undefined) ? typeCharge(exp.default) : result;\n            return result;\n        }\n    } catch (e) {\n        if (exp.matchStr) {\n            const def = exp.matchStr.pop();\n            if (def.default) {\n                result = typeCharge(def.default);\n                return (config.filterDefaultObject && isEmptyObj(result)) ? undefined : result;\n            }\n        }\n        // console.log(e);\n    }\n\n    return result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/match/parse-data.js","/**\n * @descprtion 过滤函数 过滤一些undefined等特殊情况\n */\nimport config, { filterDefaultObject } from 'MATCH/config';\nimport { isEmptyObj } from 'LIB/util';\n\nexport const filter = (\n    key: string,\n    result: Object,\n) => {\n    if (config.filterUndefined && result[key] === undefined) {\n        delete result[key];\n    }\n\n    if (config.filterNull && result[key] === null) {\n        delete result[key];\n    }\n\n    if (config.filterEmptyObject && isEmptyObj(result[key])) {\n        delete result[key];\n    }\n};\n\nexport const filterEmpty = (result: Object) => {\n    if (config.filterDefaultObject && !filterDefaultObject && isEmptyObj(result)) return undefined;\n\n    return (config.filterEmptyObject && isEmptyObj(result)) ? undefined : result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/match/filter.js","/**\n * @description match的自动补全\n */\nimport config from 'MATCH/config';\nimport { isObj, has } from 'LIB/util';\n\nconst autoComplete = (\n    result: Object,\n    data: Object,\n) => {\n    if (!config.autoComplete) return;\n\n    for (const i in data) {\n        // if (!result.hasOwnProperty(i)) {\n        if (!has(result, i)) {\n            result[i] = data[i];\n        } else if (isObj(result[i]) && isObj(data[i])) {\n            autoComplete(result[i], data[i]);\n        }\n    }\n};\n\nexport default autoComplete;\n\n\n\n// WEBPACK FOOTER //\n// ./src/match/auto-complete.js","/* eslint-disable */\n(function () {\n    if (typeof Object.assign !== 'function') {\n        Object.assign = function (target, varArgs) { // .length of function is 2\n\n'use strict';\n\n            if (target == null) { // TypeError if undefined or null\n                throw new TypeError('Cannot convert undefined or null to object');\n            }\n\n            const to = Object(target);\n\n            for (let index = 1; index < arguments.length; index++) {\n                const nextSource = arguments[index];\n\n                if (nextSource != null) { // Skip over if undefined or null\n                    for (const nextKey in nextSource) {\n                        // Avoid bugs when hasOwnProperty is shadowed\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                            to[nextKey] = nextSource[nextKey];\n                        }\n                    }\n                }\n            }\n            return to;\n        };\n    }\n}());\n/* eslint-disable */\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/polyfill.js","import config, { debugArray } from 'MATCH/config';\n\nexport default (result, combineData, keyData) => {\n    if (!config.debug) return;\n    if (!window.Match_Debug) {\n        window.Match_Debug = debugArray;\n    }\n    debugArray.push({\n        result,\n        data: combineData,\n        matchObj: keyData,\n        config: { ...config },\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/match/debug.js"],"sourceRoot":""}